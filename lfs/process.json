[
	{
		"repo": "binutils",
		"vcs": "git",
		"url": "git://sourceware.org/git/binutils-gdb.git",
		"phases":
		{
			"configure":
			[
				{
					"call": "configure",
					"params":
					[
						"--prefix=/tools",
						"--with-sysroot=/home/lfs",
						"--with-lib-path=/tools/lib",
						"--target=amd64-pc-linux-gnu",
						"--disable-nls",
						"--disable-werror"
					]
				}
			],
			"build":
			[
				{
					"call": "make",
					"system": 1
				}
			],
			"install":
			[
				{
					"call": "make",
					"system": 1,
					"params":
					[
						"install"
					]
				}
			]
		}
	},
	{
		"repo": "gcc",
		"vcs": "git",
		"url": "git://gcc.gnu.org/git/gcc.git",
		"phases":
		{
			"prep":
			[
				{
					"call": "svn",
					"system": 1,
					"once": 1,
					"params":
					[
						"co",
						"svn://scm.gforge.inria.fr/svn/mpfr/trunk",
						"mpfr"
					]
				},
				{
					"call": "hg",
					"system": 1,
					"once": 1,
					"params":
					[
						"clone",
						"https://gmplib.org/repo/gmp/",
						"gmp"
					]
				},
				{
					"call": "git",
					"system": 1,
					"once": 1,
					"params":
					[
						"clone",
						"https://scm.gforge.inria.fr/anonscm/git/mpc/mpc.git",
						"mpc"
					]
				},
				{
					"call": "for file in $(find gcc\/config -name linux64.h -o -name linux.h -o -name sysv4.h)\ndo\n  sed -i -e 's@\/lib\\(64\\)\\?\\(32\\)\\?\/ld@\/tools&@g' -e 's@\/usr@\/tools@g' $file\n  echo '\n#undef STANDARD_STARTFILE_PREFIX_1\n#undef STANDARD_STARTFILE_PREFIX_2\n#define STANDARD_STARTFILE_PREFIX_1 \"\/tools\/lib\/\"\n#define STANDARD_STARTFILE_PREFIX_2 \"\"' >> $file\ndone",
					"system": 1,
					"once": 1
				}
			],
			"configure":
			[
				{
					"call": "configure",
					"params":
					[
						"--target=amd64-pc-linux-gnu",
						"--prefix=/tools",
						"--with-glibc-version=2.11",
						"--with-sysroot=/home/lfs",
						"--with-newlib",
						"--without-headers",
						"--with-local-prefix=/tools",
						"--with-native-system-header-dir=/tools/include",
						"--disable-nls",
						"--disable-shared",
						"--disable-multilib",
						"--disable-decimal-float",
						"--disable-threads",
						"--disable-libatomic",
						"--disable-libgomp",
						"--disable-libquadmath",
						"--disable-libssp",
						"--disable-libvtv",
						"--disable-libstdcxx",
						"--enable-languages=c,c++"
					]
				}
			],
			"build":
			[
				{
					"call": "make",
					"system": 1
				}
			],
			"install":
			[
				{
					"call": "make",
					"system": 1,
					"params":
					[
						"install"
					]
				}
			]
		}
	}
]
